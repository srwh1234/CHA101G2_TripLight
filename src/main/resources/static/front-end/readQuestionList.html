<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <title>TripLight | Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta charset="utf-8"/>
    <!-- 關鍵字設定 -->
    <meta name="keywords" content="旅遊, 行程規劃, 票券, AI, ChatGPT, Google map, 客製化行程, 套裝行程"/>
    <!-- 網頁介紹 -->
    <meta name="description" content="我們提供旅遊行程規劃服務，以及販售套裝行程 票券 等等"/>

    <script>
        addEventListener(
            "load",
            function () {
                setTimeout(hideURLbar, 0);
            },
            false
        );

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>

    <!-- css files -->
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <!-- bootstrap css -->
    <link href="css/style.css" rel="stylesheet" type="text/css"/>
    <!-- custom css -->
    <link href="css/fontawesome-all.css" rel="stylesheet"/>
    <!-- fontawesome css -->
    <link rel="stylesheet" href="css/question_form.css">
    <!-- question_form.css -->
    <!-- //css files -->

    <!-- google fonts -->
    <!-- 載入字體 -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet"/>
    <!-- //google fonts -->

    <!--jQuery-->
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <!--會員登入-->
    <link href="css/login.css" rel="stylesheet"/>

    <!-- 載入icon -->
    <link rel="shortcut icon" href="./images/icon.png"/>
    <link rel="bookmark" href="./images/icon.png"/>
    <!--會員登入-->
    <link href="css/login.css" rel="stylesheet"/>
    <link href="css/membership_rating.css" rel="stylesheet"/>
    <!--jQuery-->
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <style>
        .list-group list-group-flush mt-3 {
            padding: 0px;
        }

        .list_group_item {
            position: absolute;
            padding: 0px;
            text-align: center;

        }

        .list-group-item > a {
            padding: inherit;
            display: inline-block;
            width: 100%;
        }

        li.list-group-item {
            cursor: pointer;
        }

        ul.list-group :hover {
            background-color: rgb(201, 216, 216);
            color: white;
        }

        li.list-group-item > a {
            text-decoration: none;
            color: black;
        }

        .table {
            width: 100%; /* 設置表格的固定寬度 */
            table-layout: fixed; /* 固定表格的佈局 */
        }

        .table td, .table th {
            white-space: nowrap; /* 禁止文字換行 */
            overflow: hidden; /* 超出部分隱藏 */
            text-overflow: ellipsis; /* 超出部分以省略號顯示 */
        }
    </style>

</head>

<body>
<!-- header -->
<header>
    <div class="container" style="padding-right: 0px">
        <!-- nav -->
        <nav class="py-md-4 py-3">
            <div id="logo">
                <h1 class="mt-md-0 mt-2">
                    <a href="index.html"><img src="./images/icon.png" class="icon_triplight"/>
                        TripLight
                    </a>
                </h1>
            </div>
            <label for="drop" class="toggle"><span class="fa fa-bars"></span></label>
            <input type="checkbox" id="drop"/>
            <ul class="menu ml-auto mt-1">
                <li class=""><a href="index.html">首頁</a></li>
                <li class=""><a href="booking.html">AI行程規劃</a></li>
                <li class=""><a href="tickets.html">票券</a></li>
                <li class="active"><a href="packages.html">套裝行程</a></li>
                <li class=""><a href="articles.html">旅遊文章</a></li>
                <li class="booking"><a href="" id="login">登入/註冊</a></li>
                <li class="">
                    <a href="shopping_car.html"><img src="./images/shoppingCar.svg" alt="" style="width: 2em"/></a>
                </li>
            </ul>
        </nav>
        <!-- //nav -->

        <div class="member">
            <ul class="member_list">
                <li class="member_li"><a href="login.html"><i class="fa-regular fa-user"></i>管理帳戶</a>
                </li>
                <li class="member_li" id="order_li"><a href="#"><i class="fa-solid fa-plane"></i>訂單管理</a>
                    <ul class="order_list">
                        <li class="order_content"><a href="tickets_order.html"><i
                                class="fa-solid fa-ticket"></i>票券訂單</a></li>
                        <li class="order_content"><a href="group_order.html"><i
                                class="fa-solid fa-suitcase"></i>旅遊團訂單</a>
                        </li>
                    </ul>
                </li>
                <li class="member_li"><a href="my_favorite.html"><i class="fa-regular fa-heart"></i>我的收藏</a></li>
                <li class="member_li"><a href="comment.html"><i class="fa-solid fa-pen-to-square"></i>我的評價</a></li>
                <li class="member_li"><a href="article_myfavorite.html"><i class="fa-solid fa-copy"></i>我的文章</a>
                </li>
                <li class="member_li"><a href="membership_rating.html"><i class="fa-regular fa-gem"></i>會員分級</a>
                </li>
                <li class="member_li"><a href="coupon.html"><i class="fa-solid fa-sack-dollar"></i>優惠碼</a></li>
                <li class="member_li"><a href="questionForm.html"><i class="fa-regular fa-comment"></i>提出問題</a>
                </li>
                <li class="member_li"><a href="readQuestionList.html"><i class="fa-regular fa-comment"></i>查看問題</a>
                </li>
                <li class="member_li"><a href="index.html"><i class="fa-solid fa-right-from-bracket"></i>登出</a>
                </li>
            </ul>
        </div>

    </div>
</header>

<!-- //header -->
<!-- 登入 -->

<div id="login-container">
    <!---container--->

    <div class="main-box login">
        <h3>登入</h3>
        <form action="">
            <div class="input-box">
                <i class="fas fa-envelope icon2"></i>
                <input type="email" name="email" id="email" required/>
                <label for="email">信箱</label>
            </div>
            <div class="input-box">
                <i class="fas fa-lock icon2"></i>
                <input type="password" name="password" id="password" required/>
                <label for="password">密碼</label>
            </div>
            <div class="check">
                <label><input type="checkbox"/>記住我</label>
                <a href="#">忘記密碼</a>
            </div>
            <button type="submit" class="main-btn">Login</button>
            <div class="register">
                <p>如果沒有帳號?<a href="#" class="register-link">點擊註冊</a></p>
            </div>
        </form>
    </div>

    <div class="main-box register">
        <h3>註冊</h3>
        <form action="">
            <div class="input-box">
                <i class="fas fa-user icon2"></i>
                <input type="email" name="email" required/>
                <label for="email">使用者名稱</label>
            </div>
            <div class="input-box">
                <i class="fas fa-envelope icon2"></i>
                <input type="email" name="email" required/>
                <label for="email">信箱</label>
            </div>
            <div class="input-box">
                <i class="fas fa-lock icon2"></i>
                <input type="password" name="password" required/>
                <label for="password">密碼</label>
            </div>
            <div class="check">
                <label><input type="checkbox"/>我同意所有條款</label>
            </div>
            <button type="submit" class="main-btn">註冊</button>
            <div class="register">
                <p>已經有帳號?<a href="#" class="login-link">點擊登入</a></p>
            </div>
        </form>
    </div>

    <span class="close-icon">
            <div class="fas fa-times"></div>
        </span>
</div>

<!-- 登入 -->
<!-- banner -->
<section class="banner_inner" id="home">
    <div class="banner_inner_overlay"></div>
</section>
<!-- //banner -->


<div class="container mt-3">
    <div class="row d-flex justify-content-between">

        <!-- 左邊會員照片 -->
        <div class="card col-3">

            <div class="card-body">
                <div class="d-flex justify-content-center align-items-center">
                    <div class="position-relative">
                        <img src="https://i.pinimg.com/564x/95/14/a2/9514a2106bdf506dc2ed2047ae4ba908.jpg"
                             alt="會員照片" class="rounded-circle" width="150" height="150">
                        <a href="#" class="position-absolute bottom-0 end-0">
                            <i class="bi bi-camera-fill h2"></i>
                        </a>
                    </div>
                </div>
                <button id="camera"><i class="fa-solid fa-camera"></i></button>
                <ul class="list-group list-group-flush mt-3">
                    <li class="list-group-item"><a href="login.html">管理帳戶</a></li>
                    <li id="order_li2" class="list-group-item"><a href="#">訂單管理</a>
                        <ul id="order_list2">
                            <li id="order_content1" class="list-group-item"><a href="tickets_order.html">票券訂單</a>
                            </li>
                            <li id="order_content2" class="list-group-item"><a href="group_order.html">旅遊團訂單</a>
                            </li>
                        </ul>
                    </li>
                    <li class="list-group-item"><a href="my_favorite.html">我的收藏</a></li>
                    <li class="list-group-item"><a href="comment.html">我的評價</a></li>
                    <li class="list-group-item"><a href="article_myfavorite.html">我的文章</a></li>
                    <li class="list-group-item"><a href="membership_rating.html">會員分級</a></li>
                    <li class="list-group-item"><a href="coupon.html">優惠碼</a></li>
                    <li class="list-group-item"><a href="questionForm.html">提出問題</a></li>
                    <li class="list-group-item"><a href="readQuestionList.html">查看問題</a></li>

                </ul>
            </div>
        </div>
        <!-- 右邊會員資料 -->
        <div class="col-9">
            <section class="packages pt-5">
                <div class="table-responsive p-3" id="QuestionContainer">
                    <table class="table" data-toggle="table">
                        <thead>
                        <tr>
                            <th class="my-th-width-sm" data-field="order_id">訂單編號</th>
                            <th class="my-th-width-sm" data-field="q_content">發問問題</th>
                            <th class="my-th-width-sm" data-field="r_content">回答問題</th>
                            <th class="my-th-width-sm" data-field="start_time">發問時間</th>
                            <th class="my-th-width-sm" data-field="end_time">解決時間</th>
                            <th class="my-th-width-sm" data-field="state">處理狀態</th>
                            <th class="my-th-width-sm" data-field="score">評分</th>
                            <th class="my-th-width-sm"></th>
                        </tr>
                        </thead>
                        <tbody id="QuestionTableBody">
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
</div>
</div>


<!--footer -->
<footer>
    <section class="footer footer_w3layouts_section_1its py-5">
        <div class="container py-lg-4 py-3">
            <div class="row footer-top">
                <div class="col-lg-3 col-sm-6 footer-grid_section_1its_w3">
                    <div class="footer-title">
                        <h3>地點資訊</h3>
                    </div>
                    <div class="row">
                        <ul class="col-12 links">
                            <li>
                                <a href="https://www.google.com/maps?q=桃園市中壢區復興路46號9樓"
                                   target="_blank">地址：桃園市中壢區復興路46號9樓</a>
                            </li>
                            <li><a href="tel:02-1234-5678">電話：02-1234-5678</a></li>
                            <li>
                                <a href="mailto:contact@example.com">信箱：triplirht@gmail.com</a>
                            </li>
                            <li><a href="tel:02-1234-5678">傳真：02-1234-5678</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 footer-grid_section mt-sm-0 mt-4">
                    <div class="footer-title">
                        <h3>認識TripLight</h3>
                    </div>
                    <div class="row">
                        <ul class="col-10 links">
                            <li><a href="about.html" class="scroll">關於我們</a></li>
                            <li>
                                <a href="user_terms.html" class="scroll">使用者條款 </a>
                            </li>
                            <li>
                                <a href="privacy_policy.html" class="scroll">隱私權保護政策</a>
                            </li>
                            <li><a href="faq.html" class="scroll"> 常見問題與幫助</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 mt-lg-0 mt-4 footer-grid_section_1its_w3">
                    <div class="footer-title">
                        <h3>成為合作夥伴</h3>
                    </div>
                    <div class="row">
                        <ul class="col-6 links">
                            <li>
                                <a href="supplier_form.html" class="scroll">成為供應商</a>
                            </li>
                            <li>
                                <a href="blogger_photographer.html" class="scroll">部落客/攝影師合作計畫</a>
                            </li>
                            <li>
                                <a href="group_form.html" class="scroll">團體客製規劃</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-sm-6 mt-lg-0 mt-4 footer-grid_section_1its_w3">
                    <div class="footer-title">
                        <h3>聯絡我們</h3>
                    </div>
                    <ul class="social_section_1info">
                        <li>
                            <a href="https://www.facebook.com/TibaMe"><img src="./images/facebook.svg"
                                                                           alt="facebook"/></a>
                        </li>
                        <li>
                            <a href="https://www.instagram.com/tibame_wiedu/"><img src="./images/instagram.svg"
                                                                                   alt="instagram"/></a>
                        </li>
                        <li>
                            <a href="https://twitter.com/"><img src="./images/twitter.svg" alt="twitter"/></a>
                        </li>
                        <li class="youtube">
                            <a href="https://www.youtube.com/channel/UClhecf7eOGHwbKW5e7l_pTA"><img
                                    src="./images/youtube.svg" alt="youtube"/></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
</footer>
<!-- //footer -->

<!-- copyright -->
<div class="copyright py-3 text-center">
    <p>COPYRIGHT © 2023 TripLight All rights reserved.</p>
</div>
<!-- //copyright -->

<!-- move top -->
<div class="move-top text-right">
    <a href="#home" class="move-top">
        <span class="fa fa-angle-up mb-3" aria-hidden="true"></span>
    </a>
</div>
<!-- move top -->

</body>
<script>
    let member = 3;
    let data = null;
    let processedData = data || "";


    fetch('/quest_report?member=' + member)
        .then(response => response.json())
        .then(data => {
            const tableBody = document.getElementById('QuestionTableBody');
            tableBody.innerHTML = ''; // 清空表格

            data.forEach((item) => {
                const row = document.createElement('tr');
                // 創建每個單元格並添加到行
                console.log(item)
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.qcontent || ""}</td>
                    <td>${item.rcontent || ""}</td>
                    <td>${item.startTime || ""}</td>
                    <td>${item.endTime || ""}</td>
                    <td>${item.state === 0 ? '未解決' : '已解決'}</td>
                    <td>${item.score || ""}</td>
                `;
                // 創建查詢按鈕並添加事件監聽器
                const queryButton = document.createElement('button');
                queryButton.textContent = '查詢';
                queryButton.addEventListener('click', () => {
                    // 在這裡添加查詢按鈕的事件處理函數
                    console.log('查詢按鈕被點擊，當前行的資料是：', item);
                });
                row.appendChild(queryButton);

                // 創建刪除按鈕並添加事件監聽器
                const deleteButton = document.createElement('button');
                deleteButton.textContent = '刪除';
                deleteButton.addEventListener('click', () => {
                    fetch('/quest_report/' + item.id, {
                        method: 'DELETE',
                    })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Network response was not ok');
                            }
                            // 刪除成功，從表格中移除該行
                            row.remove();
                        })
                        .catch(error => console.error('Error:', error));
                });
                row.appendChild(deleteButton);

                // 將行添加到表格
                tableBody.appendChild(row);
            });


        })
        .catch(error => console.error('Error:', error));


</script>
<!-- login顯示 -->
<script src="js/Login.js"></script>
<!-- 會員首頁 -->
<!-- <script src="/js/member.js"></script> -->
<!-- 會員分級 -->
<script src="js/membership_rating.js"></script>

</html>